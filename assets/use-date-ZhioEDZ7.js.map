{"version":3,"file":"use-date-ZhioEDZ7.js","sources":["../../src/composables/use-date.ts"],"sourcesContent":["import { computed } from 'vue';\nimport {\n  format,\n  isToday,\n  isWithinInterval,\n  isYesterday,\n  subDays,\n} from 'date-fns';\nimport { Time } from '@/enums';\nimport { useI18n } from 'vue-i18n';\n\nexport function useDate() {\n  const { t } = useI18n();\n\n  const formattedTime = computed(() => {\n    return (date: Date) => {\n      if (isToday(date)) return format(date, 'h:mm a');\n      if (isYesterday(date))\n        return t('Yesterday') + ` ${format(date, 'h:mm a')}`;\n      if (\n        isWithinInterval(date, {\n          end: new Date(),\n          start: subDays(new Date(), 7),\n        })\n      )\n        return format(date, 'eeee h:mm a');\n      const formatDate =\n        import.meta.env.VITE_COUNTRY === 'AU'\n          ? 'dd/MM/yyyy h:mm a'\n          : 'MM/d/yyyy h:mm a';\n      return format(date, formatDate);\n    };\n  });\n\n  const formattedDetails = computed(() => {\n    return (details: string | number) => {\n      if (typeof details === 'string') return t(details);\n      if (details < 60 * Time.Second) {\n        return format(\n          details,\n          \"'\" + t('Ended') + \" •' s 'sec \" + t('lasted') + \"'\"\n        );\n      }\n      if (details < 60 * Time.Minute) {\n        return format(\n          details,\n          \"'\" + t('Ended') + \" •' m 'min' s 'sec \" + t('lasted') + \"'\"\n        );\n      }\n      return format(\n        details,\n        \"'\" + t('Ended') + \" •' h 'hour' m 'min' s 'sec \" + t('lasted') + \"'\"\n      );\n    };\n  });\n\n  return {\n    formattedTime: formattedTime,\n    formattedTimeValue: formattedTime.value,\n    formattedDetails,\n  };\n}\n"],"names":["useDate","t","useI18n","formattedTime","computed","date","isToday","format","isYesterday","isWithinInterval","subDays","formattedDetails","details","Time"],"mappings":"yKAWO,SAASA,GAAU,CAClB,KAAA,CAAE,EAAAC,GAAMC,IAERC,EAAgBC,EAAS,IACrBC,GACFC,EAAQD,CAAI,EAAUE,EAAOF,EAAM,QAAQ,EAC3CG,EAAYH,CAAI,EACXJ,EAAE,WAAW,EAAI,IAAIM,EAAOF,EAAM,QAAQ,CAAC,GAElDI,EAAiBJ,EAAM,CACrB,QAAS,KACT,MAAOK,EAAY,IAAA,KAAQ,CAAC,CAAA,CAC7B,EAEMH,EAAOF,EAAM,aAAa,EAK5BE,EAAOF,EAFR,mBAEwB,CAEjC,EAEKM,EAAmBP,EAAS,IACxBQ,GACF,OAAOA,GAAY,SAAiBX,EAAEW,CAAO,EAC7CA,EAAU,GAAKC,EAAK,OACfN,EACLK,EACA,IAAMX,EAAE,OAAO,EAAI,cAAgBA,EAAE,QAAQ,EAAI,GAAA,EAGjDW,EAAU,GAAKC,EAAK,OACfN,EACLK,EACA,IAAMX,EAAE,OAAO,EAAI,sBAAwBA,EAAE,QAAQ,EAAI,GAAA,EAGtDM,EACLK,EACA,IAAMX,EAAE,OAAO,EAAI,+BAAiCA,EAAE,QAAQ,EAAI,GAAA,CAGvE,EAEM,MAAA,CACL,cAAAE,EACA,mBAAoBA,EAAc,MAClC,iBAAAQ,CAAA,CAEJ"}