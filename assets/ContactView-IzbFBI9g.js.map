{"version":3,"file":"ContactView-IzbFBI9g.js","sources":["../../node_modules/date-fns/differenceInDays.mjs","../../src/components/Views/HeaderChat/HeaderFavorite.vue","../../src/components/Views/HeaderChat/HeaderCall.vue","../../src/components/Views/HeaderChat/HeaderMeeting.vue","../../src/components/Views/HeaderChat/BaseHeaderChat.vue","../../src/components/Views/ContentChat/ContentNoMessages.vue","../../src/components/Views/ContentChat/ContentInfo.vue","../../src/components/Views/Chat/ViewChat.vue","../../src/components/Views/ContentChat/BaseContentChat.vue","../../src/views/ContactView.vue"],"sourcesContent":["import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full days according to the local timezone\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n *\n * @example\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n * //=> 92\n */\nexport function differenceInDays(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareLocalAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(differenceInCalendarDays(_dateLeft, _dateRight));\n\n  _dateLeft.setDate(_dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  const isLastDayNotFull = Number(\n    compareLocalAsc(_dateLeft, _dateRight) === -sign,\n  );\n  const result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  const diff =\n    dateLeft.getFullYear() - dateRight.getFullYear() ||\n    dateLeft.getMonth() - dateRight.getMonth() ||\n    dateLeft.getDate() - dateRight.getDate() ||\n    dateLeft.getHours() - dateRight.getHours() ||\n    dateLeft.getMinutes() - dateRight.getMinutes() ||\n    dateLeft.getSeconds() - dateRight.getSeconds() ||\n    dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default differenceInDays;\n","<template>\n  <li @click=\"emit('click')\">\n    <button\n      href=\"javascript:\"\n      class=\"favorite-container\"\n      :class=\"{ 'is-favorite': favorite }\"\n    >\n      <ChatStarYellow class=\"yellow\" />\n      <ChatStar class=\"blue\" />\n    </button>\n  </li>\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from 'vue-i18n';\nimport ChatStarYellow from '@/components/Chat/ChatStarYellow.vue';\nimport ChatStar from '@/components/Chat/ChatStar.vue';\n\ninterface Props {\n  favorite?: boolean;\n}\n\ninterface Emit {\n  (e: 'click'): void;\n}\n\nconst { t } = useI18n();\n\ndefineProps<Props>();\nconst emit = defineEmits<Emit>();\n</script>\n","<template>\n  <li>\n    <button\n      href=\"javascript:\"\n      class=\"call-container\"\n      :disabled=\"numbers.length === 0\"\n      @click=\"handleNewcall\"\n    >\n      <ChatPhone />\n    </button>\n  </li>\n  <NumbersList v-model=\"modalListNumbers\" :numbers=\"numbers\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from 'vue-i18n';\nimport { toastError } from '@/utils';\nimport { useWebrtcStore } from '@/stores';\nimport { ref } from 'vue';\nimport NumbersList from '@/components/ChatView/NumbersList.vue';\nimport { useUserAgent } from '@/composables';\nimport ChatPhone from '@/components/Chat/ChatPhone.vue';\n\ninterface Props {\n  numbers: string[];\n}\n\nconst props = defineProps<Props>();\n\nconst { t } = useI18n();\nconst { newCall } = useUserAgent();\nconst webrtcStore = useWebrtcStore();\n\nconst modalListNumbers = ref(false);\n\nfunction handleNewcall() {\n  if (webrtcStore.userAgentArray.length === 0) {\n    return toastError(t('No active number'));\n  }\n\n  if (props.numbers.length > 1) {\n    modalListNumbers.value = true;\n    return;\n  }\n\n  newCall(props.numbers[0], webrtcStore.userAgentActive);\n}\n</script>\n","<template>\n  <li>\n    <button\n      href=\"javascript:\"\n      :class=\"{ disabled }\"\n      class=\"meeting-container\"\n      :disabled=\"disabled\"\n      @click=\"emit('click')\"\n    >\n      <ChatMeeting />\n    </button>\n  </li>\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from 'vue-i18n';\nimport ChatMeeting from '@/components/Chat/ChatMeeting.vue';\n\ninterface Props {\n  disabled?: boolean;\n}\n\ninterface Emit {\n  (e: 'click'): void;\n}\n\nconst { t } = useI18n();\n\ndefineProps<Props>();\nconst emit = defineEmits<Emit>();\n</script>\n\n<style scoped lang=\"scss\">\n.disabled {\n  cursor: not-allowed;\n\n  span,\n  svg {\n    color: #a0aec0;\n  }\n}\n</style>\n","<template>\n  <div class=\"chat-header\">\n    <div class=\"chat-header-left\">\n      <div class=\"d-flex gap-2\">\n        <SidebarToogle />\n        <span v-if=\"!name\" class=\"placeholder-wave\">\n          <span\n            class=\"placeholder\"\n            :style=\"{ width: '300px', background: Color.TextPrimary }\"\n          />\n        </span>\n        <HeaderUser v-else :name=\"name\" @click=\"emit('click:header-info')\" />\n      </div>\n    </div>\n    <div class=\"chat-header-right chat-actions\">\n      <ul>\n        <HeaderFavorite\n          :favorite=\"favorite\"\n          @click=\"emit('click:header-favorite')\"\n        />\n        <HeaderCall :numbers=\"numbers\" />\n        <HeaderMeeting :disabled=\"meetingDisabled\" />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport HeaderUser from '@/components/Views/HeaderChat/HeaderUser.vue';\nimport HeaderFavorite from '@/components/Views/HeaderChat/HeaderFavorite.vue';\nimport HeaderCall from '@/components/Views/HeaderChat/HeaderCall.vue';\nimport HeaderMeeting from '@/components/Views/HeaderChat/HeaderMeeting.vue';\nimport HeaderInfo from '@/components/Views/HeaderChat/HeaderInfo.vue';\nimport { Color } from '@/enums';\nimport SidebarToogle from '@/components/Sidebar/SidebarToogle.vue';\n\ninterface Props {\n  name: string | null;\n  numbers: string[];\n  favorite?: boolean;\n  meetingDisabled?: boolean;\n}\n\ninterface Emits {\n  (e: 'click:header-info'): void;\n  (e: 'click:header-favorite'): void;\n}\n\ndefineProps<Props>();\nconst emit = defineEmits<Emits>();\n</script>\n","<template>\n  <div class=\"no_activity_container w-100\">\n    <svg\n      width=\"248\"\n      height=\"201\"\n      viewBox=\"0 0 248 201\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g clip-path=\"url(#clip0_4072_27607)\">\n        <path\n          d=\"M123.567 200.503C191.811 200.503 247.134 155.619 247.134 100.252C247.134 44.8842 191.811 0 123.567 0C55.3227 0 0 44.8842 0 100.252C0 155.619 55.3227 200.503 123.567 200.503Z\"\n          fill=\"url(#paint0_linear_4072_27607)\"\n        />\n        <g style=\"mix-blend-mode: multiply\" opacity=\"0.3\">\n          <path\n            d=\"M137.167 199.904C138.184 197.761 139.709 194.456 140.29 193.349C144.206 186.137 148.81 179.32 154.036 172.993C159.267 166.669 165.106 160.873 171.468 155.689L171.632 155.58C167.559 153.529 162.984 152.69 158.449 153.165C154.589 153.652 150.887 154.994 147.611 157.092C144.334 159.191 141.567 161.992 139.51 165.294C134.97 172.558 134.062 181.473 133.336 190.008C132.532 187.826 130.972 186.005 128.939 184.875C126.907 183.746 124.537 183.383 122.259 183.852C120.008 184.434 117.984 185.68 116.452 187.43C114.92 189.179 113.951 191.349 113.67 193.657C113.67 194.202 113.543 197.089 113.507 200.158C116.83 200.376 120.171 200.503 123.567 200.503C128.703 200.495 133.837 200.228 138.947 199.704L137.167 199.904Z\"\n            fill=\"#0676C5\"\n          />\n        </g>\n        <g style=\"mix-blend-mode: multiply\" opacity=\"0.3\">\n          <path\n            d=\"M179.095 161.681C177.35 159.47 175.191 157.619 172.739 156.234C172.749 156.334 172.732 156.436 172.691 156.528C172.65 156.621 172.585 156.701 172.503 156.76C159.302 167.51 146.918 184.433 138.965 199.759C151.58 198.509 163.978 195.615 175.844 191.152C178.269 189.029 180.26 186.458 181.709 183.58C183.313 180.039 183.918 176.126 183.457 172.266C182.996 168.405 181.487 164.745 179.095 161.681Z\"\n            fill=\"#0676C5\"\n          />\n        </g>\n        <path d=\"M120 77H85V83H120V77Z\" fill=\"#67748E\" fill-opacity=\"0.3\" />\n        <rect\n          x=\"61\"\n          y=\"26\"\n          width=\"20\"\n          height=\"20\"\n          rx=\"4\"\n          fill=\"url(#paint1_linear_4072_27607)\"\n        />\n        <rect x=\"85\" y=\"26\" width=\"150\" height=\"47\" rx=\"4\" fill=\"white\" />\n        <path d=\"M226 34H94V40H226V34Z\" fill=\"#67748E\" fill-opacity=\"0.25\" />\n        <path d=\"M209 47H94V53H209V47Z\" fill=\"#67748E\" fill-opacity=\"0.25\" />\n        <path d=\"M218 60H94V66H218V60Z\" fill=\"#67748E\" fill-opacity=\"0.25\" />\n        <circle cx=\"71\" cy=\"36\" r=\"4\" fill=\"white\" />\n        <path d=\"M211 140H176V146H211V140Z\" fill=\"#67748E\" fill-opacity=\"0.3\" />\n        <rect x=\"215\" y=\"101\" width=\"20\" height=\"20\" rx=\"4\" fill=\"#0676C5\" />\n        <rect x=\"61\" y=\"101\" width=\"150\" height=\"35\" rx=\"4\" fill=\"white\" />\n        <path d=\"M193 109H70V115H193V109Z\" fill=\"#67748E\" fill-opacity=\"0.25\" />\n        <path d=\"M198 122H70V128H198V122Z\" fill=\"#67748E\" fill-opacity=\"0.25\" />\n        <circle cx=\"225\" cy=\"111\" r=\"4\" fill=\"white\" />\n        <path\n          d=\"M149.17 76.4822C149.061 76.9663 148.988 77.458 148.952 77.953L110.239 100.288L100.833 94.8402L90.8093 107.969L106.534 119.172C107.808 120.067 109.336 120.529 110.892 120.489C112.448 120.45 113.95 119.912 115.178 118.954L155.126 87.4679C156.292 87.9006 157.532 88.0991 158.774 88.0521C160.017 88.0051 161.238 87.7135 162.368 87.1941C163.498 86.6746 164.515 85.9375 165.36 85.0248C166.204 84.1121 166.861 83.0418 167.292 81.8752C168.16 79.5226 168.059 76.9216 167.01 74.6437C165.961 72.3658 164.051 70.5975 161.699 69.7273C160.534 69.295 159.296 69.0967 158.054 69.1439C156.813 69.1911 155.593 69.4829 154.464 70.0025C153.336 70.5221 152.321 71.2591 151.478 72.1716C150.635 73.0841 149.98 74.1541 149.551 75.3201C149.409 75.6864 149.293 76.0627 149.206 76.4459L149.17 76.4822Z\"\n          fill=\"#FFB8B8\"\n        />\n        <path\n          d=\"M109.712 98.1271C109.598 97.5548 109.36 97.0144 109.015 96.5438C108.67 96.0733 108.226 95.684 107.714 95.4034L89.9559 85.4709C88.7853 84.5666 87.4478 83.9017 86.0201 83.5144C84.5925 83.1272 83.1026 83.0251 81.6355 83.214C80.1684 83.4029 78.7529 83.879 77.4699 84.6152C76.1869 85.3514 75.0615 86.3333 74.1581 87.5046C72.3418 89.8614 71.5307 92.8406 71.9014 95.793C72.2721 98.7453 73.7946 101.431 76.1373 103.266L90.3008 117.956C90.6698 118.341 91.1112 118.649 91.5997 118.863C92.0882 119.077 92.614 119.192 93.1471 119.203C93.6803 119.213 94.2102 119.117 94.7065 118.922C95.2027 118.727 95.6555 118.436 96.0389 118.065C96.1856 117.933 96.3194 117.787 96.4383 117.629L99.1984 113.997L100.143 112.781L108.949 101.359C109.275 100.947 109.51 100.471 109.639 99.9611C109.808 99.3642 109.833 98.7356 109.712 98.1271Z\"\n          fill=\"#0676C5\"\n        />\n        <path\n          d=\"M68.3473 74.2487C80.572 74.2487 90.4822 64.3385 90.4822 52.1138C90.4822 39.889 80.572 29.9789 68.3473 29.9789C56.1225 29.9789 46.2124 39.889 46.2124 52.1138C46.2124 64.3385 56.1225 74.2487 68.3473 74.2487Z\"\n          fill=\"#FFB8B8\"\n        />\n        <path\n          d=\"M93.8055 147.699L48.8275 147.899C47.9759 147.767 47.1046 147.914 46.3427 148.316C45.5808 148.718 44.9685 149.355 44.5965 150.132C43.8701 151.639 43.1439 153.201 42.4539 154.762C40.7471 158.539 38.3321 165.004 36.1531 171.105C54.6926 186.158 79.1335 196.436 106.389 199.504L97.3099 151.24V150.895C97.1359 150.061 96.7037 149.304 96.0746 148.73C95.4454 148.156 94.6515 147.795 93.8055 147.699Z\"\n          fill=\"#2F2E41\"\n        />\n        <path\n          d=\"M96.3293 135.896C97.219 134.552 102.866 125.582 100.724 115.069C100.575 114.289 100.381 113.519 100.143 112.763C99.1298 109.6 97.5211 106.66 95.4034 104.101C95.4034 103.393 95.4034 102.703 95.4034 102.013C95.0774 97.2262 93.0392 92.7168 89.6616 89.3092C86.284 85.9016 81.7928 83.8236 77.0091 83.4552L52.2594 81.6394C49.0666 81.3892 45.8606 81.9197 42.9185 83.1851C39.9765 84.4505 37.3865 86.4128 35.3722 88.9027C34.8985 89.4797 34.4619 90.0862 34.0648 90.7185C32.5047 93.0748 31.4687 95.7386 31.027 98.5298C30.5853 101.321 30.7482 104.175 31.5045 106.898L31.7224 107.824L34.3552 119.39L38.7678 138.765L42.3994 154.962L42.7807 156.669C42.986 157.566 43.4892 158.366 44.2081 158.94C44.9271 159.514 45.8194 159.827 46.7393 159.829H47.3929L95.2944 151.966C95.9557 151.852 96.579 151.577 97.1102 151.167C97.4299 150.905 97.7111 150.6 97.9454 150.259C98.2579 149.809 98.4742 149.3 98.5805 148.762C98.6867 148.225 98.6807 147.671 98.5629 147.136L96.3293 135.896Z\"\n          fill=\"#0676C5\"\n        />\n        <path\n          d=\"M60.6847 177.57C59.7551 175.162 57.9072 173.222 55.5473 172.177C53.1875 171.131 50.5091 171.066 48.1012 171.995L25.4943 163.733L43.7795 113.707L27.9638 106.208L8.22576 166.911C7.65538 168.741 7.83148 170.722 8.71585 172.423C9.60022 174.124 11.1211 175.406 12.9469 175.99L42.7989 185.233C43.0369 185.754 43.3227 186.253 43.6525 186.722C45.1305 188.821 47.3809 190.249 49.9101 190.691C52.4394 191.134 55.0408 190.555 57.1439 189.082C58.9381 187.837 60.2623 186.026 60.9044 183.938C61.5464 181.851 61.469 179.608 60.6847 177.57Z\"\n          fill=\"#FFB8B8\"\n        />\n        <path\n          d=\"M48.8093 83.2553C45.8862 82.3759 42.7384 82.6361 39.9995 83.9837C37.2605 85.3313 35.1336 87.6662 34.0466 90.5186C33.9369 90.7781 33.8459 91.0451 33.7742 91.3176L31.4681 96.2021L24.4772 111.019C23.9916 112.06 23.9366 113.251 24.3243 114.332C24.7119 115.414 25.5108 116.298 26.5473 116.794L27.1464 117.03L28.5083 117.429L34.3372 119.245L44.6873 122.368L48.1374 123.421C48.6859 123.589 49.262 123.647 49.8329 123.592C50.4038 123.537 50.9582 123.37 51.4643 123.1C51.9704 122.83 52.4182 122.463 52.7821 122.019C53.1459 121.576 53.4189 121.065 53.5849 120.516C53.5849 120.316 53.6938 120.098 53.7301 119.899L56.9078 98.2722C57.363 96.7544 57.5147 95.1618 57.354 93.5854C57.1933 92.009 56.7234 90.4797 55.9713 89.085C55.2191 87.6904 54.1994 86.4577 52.9705 85.4574C51.7416 84.4571 50.3276 83.7087 48.8093 83.2553Z\"\n          fill=\"#0676C5\"\n        />\n        <path\n          d=\"M88.6664 44.0702C84.6545 47.4683 79.7502 49.6413 74.5379 50.3303C69.3256 51.0193 64.0253 50.1951 59.2683 47.9561C63.4992 52.9678 71.5251 77.7175 71.5251 77.7175C71.5251 77.7175 48.8455 75.3388 45.6496 74.6487C26.7287 70.6176 33.6107 21.6267 53.7663 21.8809C57.18 21.8809 60.158 22.3348 62.4278 24.877C63.3197 22.8086 64.8438 21.0759 66.7816 19.9276C68.7194 18.7792 70.9711 18.2744 73.2137 18.4853C75.4456 18.755 77.6021 19.4633 79.5591 20.5696C81.5162 21.6759 83.2352 23.1583 84.6171 24.9315C86.9158 27.7188 88.5752 30.9762 89.4788 34.4743C90.3823 37.9724 90.5079 41.6261 89.8467 45.178L88.6664 44.0702Z\"\n          fill=\"#2F2E41\"\n        />\n      </g>\n      <defs>\n        <linearGradient\n          id=\"paint0_linear_4072_27607\"\n          x1=\"123.567\"\n          y1=\"0\"\n          x2=\"123.567\"\n          y2=\"200.503\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stop-color=\"#0676C5\" stop-opacity=\"0.5\" />\n          <stop offset=\"1\" stop-color=\"#0676C5\" stop-opacity=\"0\" />\n        </linearGradient>\n        <linearGradient\n          id=\"paint1_linear_4072_27607\"\n          x1=\"62.8421\"\n          y1=\"27.3158\"\n          x2=\"79.1579\"\n          y2=\"46\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stop-color=\"#344767\" />\n          <stop offset=\"1\" stop-color=\"#141727\" />\n        </linearGradient>\n        <clipPath id=\"clip0_4072_27607\">\n          <rect width=\"247.134\" height=\"200.503\" fill=\"white\" />\n        </clipPath>\n      </defs>\n    </svg>\n\n    <div class=\"no_activity_text\">\n      <h2>{{ t('This is the start of something new.') }}</h2>\n      <p>\n        {{ t('Your calls will appear here once they have made them.') }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from 'vue-i18n';\n\ninterface Props {\n  name: string;\n}\n\ndefineProps<Props>();\n\nconst { t } = useI18n();\n</script>\n","<template>\n  <div class=\"chat-sidebar\">\n    <perfect-scrollbar>\n      <div class=\"info-group\">\n        <h2>{{ t('Name') }}</h2>\n        <p>{{ `${contact.firstName} ${contact.lastName}` }}</p>\n      </div>\n      <div class=\"info-group\">\n        <h2>{{ t('Email') }}</h2>\n        <div class=\"d-flex flex-column gap-2\">\n          <p v-for=\"email in contact.emails\" :key=\"email\">\n            <a :href=\"'mailto:' + email\">{{ email }}</a>\n          </p>\n        </div>\n      </div>\n      <div class=\"info-group\">\n        <h2>{{ t('Phone') }}</h2>\n        <div class=\"d-flex flex-column gap-2\">\n          <div\n            v-for=\"phone in contact.phones\"\n            :key=\"phone.number\"\n            class=\"d-flex gap-2\"\n          >\n            <span>\n              {{ phoneMasked(phone.number) }}\n            </span>\n            <BaseContactTag :phone-tag=\"phone.tag\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"info-group\">\n        <h2>{{ t('Company') }}</h2>\n        <p>{{ contact.company }}</p>\n      </div>\n      <div class=\"info-group\">\n        <h2>{{ t('Job title') }}</h2>\n        <p>{{ contact.jobTitle }}</p>\n      </div>\n      <div class=\"info-group\">\n        <h2>{{ t('Address') }}</h2>\n        <div class=\"d-inline-flex flex-wrap gap-1\">\n          <span>{{ contact.street }}</span>\n          <span>{{ contact.postcode }}</span>\n          <span>{{ contact.city }}</span>\n          <span>{{ contact.state }}</span>\n          <span>{{ contact.country }}</span>\n        </div>\n      </div>\n      <div class=\"info-group\">\n        <h2>{{ t('Source') }}</h2>\n        <div class=\"d-flex gap-2 align-items-center\">\n          <component :is=\"logo[contact.provider]\" />\n          <p>{{ emailSourceProvider(contact.provider) }}</p>\n        </div>\n      </div>\n    </perfect-scrollbar>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from 'vue-i18n';\nimport type { ImportedContacts } from '@/types';\nimport { useUserStore } from '@/stores';\nimport { computed } from 'vue';\nimport type { ProviderImportedContact } from '@/types';\nimport { Color } from '@/enums';\nimport { phoneMasked } from '@/utils';\nimport LogoMicrosoft from '@/components/Icons/LogoMicrosoft.vue';\nimport LogoGoogle from '@/components/Icons/LogoGoogle.vue';\nimport BaseContactTag from '@/components/BaseContactTag.vue';\n\ninterface Props {\n  contact: ImportedContacts;\n}\n\ndefineProps<Props>();\n\nconst { t } = useI18n();\nconst userStore = useUserStore();\n\nconst emailSourceProvider = computed(() => {\n  return (provider: ProviderImportedContact) => {\n    return userStore.getEmailProviderAccount(provider)?.email;\n  };\n});\n\nconst logo = {\n  MAC: '<></>',\n  MICROSOFT: LogoMicrosoft,\n  GOOGLE: LogoGoogle,\n};\n</script>\n\n<style scoped>\np,\nspan {\n  color: v-bind('Color.TextPrimary');\n  font-size: 14px;\n}\n</style>\n","<template>\n  <div>\n    <template v-for=\"(call, index) of calls\" :key=\"call.callId\">\n      <BaseDayDivider v-if=\"hasDivider(index)\" :date-string=\"call.date\" />\n      <template v-if=\"call.direction === 'outgoing'\">\n        <div\n          class=\"party meeting my item\"\n          :class=\"{ 'has-time': !hasTime(index) }\"\n        >\n          <div class=\"author\">\n            <div class=\"container-type\">\n              <IPhone />\n            </div>\n          </div>\n          <div class=\"contents\">\n            <div class=\"bubble\" style=\"min-width: 270px\">\n              <span class=\"font-size-14 font-weight-700\">{{\n                t('Outgoing call')\n              }}</span>\n              <br />\n              <span\n                class=\"font-size-12 d-flex gap-1 align-items-center\"\n                :style=\"{ color: Color.TextSecondary }\"\n              >\n                <BaseIcon\n                  name=\"fa-solid fa-arrow-up\"\n                  font-size=\"12px\"\n                  library=\"fontawesome\"\n                  style=\"rotate: 45deg\"\n                />\n                <span>{{ phoneMasked(call.remoteNumber) }}</span>\n                <span v-if=\"!call.duration\" class=\"font-size-16\">•</span>\n                <span :style=\"{ color: formatColor(call.status) }\">{{\n                  formattedDuration(call.duration, call.status)\n                }}</span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <time\n          v-if=\"hasTime(index)\"\n          class=\"party message my item px-5 pt-0\"\n          :datetime=\"format(new Date(call.date), 'yyyy-MM-dd hh:mm:ss')\"\n          :title=\"format(new Date(call.date), 'MM/dd/yyyy hh:mm a')\"\n        >\n          {{ format(new Date(call.date), 'hh:mm a') }}\n        </time>\n      </template>\n      <template v-else>\n        <div\n          class=\"party meeting item\"\n          :class=\"{ 'has-time': !hasTime(index) }\"\n        >\n          <div class=\"author\">\n            <div class=\"container-type\">\n              <BaseIcon name=\"phone\" :color=\"Color.White\" size=\"xs\" />\n            </div>\n          </div>\n          <div class=\"contents\">\n            <div class=\"bubble\" style=\"min-width: 270px\">\n              <span class=\"font-size-14 font-weight-700\">{{\n                t('Incoming call')\n              }}</span>\n              <br />\n              <span\n                class=\"font-size-12 d-flex gap-1 align-items-center\"\n                style=\"color: #808080\"\n              >\n                <BaseIcon\n                  name=\"fa-solid fa-arrow-down\"\n                  font-size=\"12px\"\n                  library=\"fontawesome\"\n                  style=\"rotate: 45deg\"\n                />\n                <span>{{ phoneMasked(call.localNumber) }}</span>\n                <span v-if=\"!call.duration\" class=\"font-size-16\">•</span>\n                <span :style=\"{ color: formatColor(call.status) }\">{{\n                  formattedDuration(call.duration, call.status)\n                }}</span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <time\n          v-if=\"hasTime(index)\"\n          class=\"party message item px-5 pt-0\"\n          style=\"margin-top: -12px\"\n          :datetime=\"format(new Date(call.date), 'yyyy-MM-dd hh:mm:ss')\"\n          :title=\"format(new Date(call.date), 'MM/dd/yyyy hh:mm a')\"\n        >\n          {{ format(new Date(call.date), 'hh:mm a') }}\n        </time>\n      </template>\n    </template>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, toRefs } from 'vue';\nimport { differenceInDays, format } from 'date-fns';\nimport BaseDayDivider from '@/components/Chat/BaseDayDivider.vue';\nimport type { Call } from '@/types';\nimport BaseIcon from '@/components/BaseIcon.vue';\nimport { Color, Time } from '@/enums';\nimport { useI18n } from 'vue-i18n';\nimport { phoneMasked } from '@/utils';\nimport IPhone from '@/components/Icons/IPhone.vue';\n\ninterface Props {\n  calls: Call[];\n}\n\nconst { t } = useI18n();\n\nconst props = defineProps<Props>();\nconst { calls } = toRefs(props);\n\nconst hasDivider = computed(() => {\n  return (index: number) => {\n    if (index === 0) return true;\n\n    const dateRight = new Date(calls.value[index - 1].date);\n    const dateLeft = new Date(calls.value[index].date);\n    return differenceInDays(dateLeft, dateRight) > 0;\n  };\n});\n\nconst hasTime = computed(() => {\n  return (index: number) => {\n    if (index === 0 && calls.value.length === 1) return true;\n    if (index + 1 === calls.value.length) return true;\n\n    const element = calls.value[index];\n    const successorElement = calls.value[index + 1];\n    const dateRight = new Date(element.date).getMinutes();\n    const dateLeft = new Date(successorElement.date).getMinutes();\n    const directionElement = element.direction;\n    const directionSuccessorElement = successorElement.direction;\n\n    return directionElement === directionSuccessorElement\n      ? Math.abs(dateLeft - dateRight) > 0\n      : true;\n  };\n});\n\nconst formattedDuration = computed(() => {\n  return (\n    duration: number | null | undefined,\n    status: 'Missed' | 'Finished' | 'Cancelled'\n  ) => {\n    if (!duration) {\n      return `${status}`;\n    }\n    if (duration < 60 * Time.Second) {\n      return format(duration, \"'\" + \" •' s 'sec \" + \"'\");\n    }\n    if (duration < 60 * Time.Minute) {\n      return format(duration, \"'\" + \" •' m 'min' s 'sec \" + \"'\");\n    }\n    return format(duration, \"'\" + \" •' h 'hour' m 'min' s 'sec \" + \"'\");\n  };\n});\n\nconst formatColor = computed(() => {\n  return (status: 'Missed' | 'Finished' | 'Cancelled') => {\n    if (status === 'Finished') {\n      return Color.TextSecondary;\n    }\n\n    return Color.Error;\n  };\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/chat.scss';\n\n.container-type {\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--button-primary-bg);\n  border-radius: 4px;\n}\n\n.has-time {\n  margin-bottom: -28px;\n}\n</style>\n","<template>\n  <div class=\"chat-body-outer d-flex\">\n    <ContentLoading v-if=\"loadingMessages\" />\n    <ContentNoMessages v-if=\"calls.length === 0\" :name=\"name\" />\n    <div v-else class=\"chat-body-inner w-100\">\n      <perfect-scrollbar>\n        <ViewChat :calls=\"calls\" />\n      </perfect-scrollbar>\n    </div>\n    <ContentInfo :contact=\"contact\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport ContentLoading from '@/components/Views/ContentChat/ContentLoading.vue';\nimport ContentNoMessages from '@/components/Views/ContentChat/ContentNoMessages.vue';\nimport ContentInfo from '@/components/Views/ContentChat/ContentInfo.vue';\nimport type { ImportedContacts } from '@/types';\nimport ViewChat from '@/components/Views/Chat/ViewChat.vue';\nimport { useCallsStore } from '@/stores';\nimport { computed, toRefs } from 'vue';\nimport { extractNumber } from '@/utils';\n\ninterface Props {\n  loadingMessages: boolean;\n  contact: ImportedContacts;\n}\n\nconst props = defineProps<Props>();\nconst { contact } = toRefs(props);\n\nconst callStore = useCallsStore();\n\nconst phones = computed(() =>\n  contact.value.phones.map((phone) => extractNumber(phone.number))\n);\n\nconst calls = computed(() => {\n  return callStore.calls.filter(\n    (call) =>\n      phones.value.includes(extractNumber(call.localNumber)) ||\n      phones.value.includes(extractNumber(call.remoteNumber))\n  );\n});\n\nconst name = computed(\n  () => `${contact.value.firstName} ${contact.value.lastName}`\n);\n</script>\n","<template>\n  <main id=\"chat-container\">\n    <div ref=\"panelRef\" class=\"panel\">\n      <BaseHeaderChat\n        :name=\"fullName\"\n        :numbers=\"contactsNumbers\"\n        :favorite=\"contact?.favorite\"\n        meeting-disabled\n        @click:header-info=\"handleInfoPane\"\n        @click:header-favorite=\"handelFavorite\"\n      />\n      <BaseContentChat\n        v-if=\"contact\"\n        :loading-messages=\"loadingMessages\"\n        :contact=\"contact\"\n      />\n      <BaseEditor />\n    </div>\n  </main>\n</template>\n\n<script setup lang=\"ts\">\nimport BaseHeaderChat from '@/components/Views/HeaderChat/BaseHeaderChat.vue';\nimport {\n  useChat,\n  useDeleteFavoriteContact,\n  useSetFavorite,\n} from '@/composables';\nimport { computed, onMounted, watch } from 'vue';\nimport BaseContentChat from '@/components/Views/ContentChat/BaseContentChat.vue';\nimport BaseEditor from '@/components/SMS/Fotter/BaseSmsFooter.vue';\nimport { RouteName } from '@/enums';\nimport type { ImportedContacts } from '@/types';\nimport { useRoute, useRouter } from 'vue-router';\n\nconst { contact, panelRef, resize, loadingMessages } = useChat();\nconst route = useRoute();\nconst router = useRouter();\n\nconst fullName = computed(() =>\n  contact ? `${contact.value?.firstName} ${contact.value?.lastName}` : null\n);\n\nconst contactsNumbers = computed(() => {\n  if (contact.value && contact.value.phones.length) {\n    return contact.value.phones.map((c) => c.number);\n  }\n\n  return [];\n});\n\nfunction handleInfoPane() {\n  document.querySelector('.chat-body-outer')?.classList.toggle('show-sidebar');\n}\n\nasync function handelFavorite() {\n  if (contact.value?.favorite) {\n    await useDeleteFavoriteContact(contact.value?.id.toString());\n\n    if (route.name === RouteName.FavoriteContact) {\n      router.replace({\n        name: RouteName.Contact,\n        params: { id: contact.value.id },\n      });\n    }\n    return (contact.value.favorite = false);\n  }\n  await useSetFavorite(contact.value?.id.toString() as string, 'contact');\n  (contact.value as ImportedContacts).favorite = true;\n}\n\nwatch(\n  () => route.params.id,\n  () => {\n    if (!contact.value) {\n      router.push({ name: RouteName.Home });\n    }\n  },\n  { flush: 'post' }\n);\n\nonMounted(() => {\n  if (!contact.value) {\n    router.push({ name: RouteName.Home });\n  }\n  resize();\n});\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/sass/chat.scss';\n</style>\n"],"names":["differenceInDays","dateLeft","dateRight","_dateLeft","toDate","_dateRight","sign","compareLocalAsc","difference","differenceInCalendarDays","isLastDayNotFull","result","diff","useI18n","emit","__emit","props","__props","t","newCall","useUserAgent","webrtcStore","useWebrtcStore","modalListNumbers","ref","handleNewcall","toastError","userStore","useUserStore","emailSourceProvider","computed","provider","_a","logo","LogoMicrosoft","LogoGoogle","calls","toRefs","hasDivider","index","hasTime","element","successorElement","directionElement","directionSuccessorElement","formattedDuration","duration","status","Time","format","formatColor","Color","contact","callStore","useCallsStore","phones","phone","extractNumber","call","name","panelRef","resize","loadingMessages","useChat","route","useRoute","router","useRouter","fullName","_b","contactsNumbers","c","handleInfoPane","handelFavorite","useDeleteFavoriteContact","RouteName","useSetFavorite","_c","watch","onMounted"],"mappings":"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","x_google_ignoreList":[0]}