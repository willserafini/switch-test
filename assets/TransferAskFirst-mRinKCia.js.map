{"version":3,"file":"TransferAskFirst-mRinKCia.js","sources":["../../src/components/DialPad/Call/TransferAskFirstActions.vue","../../src/components/DialPad/Call/TransferAskFirst.vue"],"sourcesContent":["<template>\n  <div\n    class=\"d-flex justify-content-center align-items-center\"\n    style=\"margin-top: 40px; width: 225px\"\n  >\n    <div class=\"transfer-ask-actions--content\">\n      <button\n        v-tippy=\"{}\"\n        class=\"transfer-actions-footer bs-tooltip\"\n        :title=\"t('Hang Up & Return to Previous Call')\"\n        data-toggle=\"tooltip\"\n        data-placement=\"top\"\n        @click=\"transferWithConfirmationCanceled\"\n      >\n        <div class=\"transfer-ask-actions--up transfer--position-up left\">\n          <svg\n            width=\"14\"\n            height=\"10\"\n            viewBox=\"0 0 14 10\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M5.53136 8.30463L3.21105 5.98432L8.93756 5.98432C11.5393 5.98432 13.6485 3.87516 13.6485 1.27338V0.499945H12.1016V1.27338C12.1016 3.02085 10.685 4.43744 8.93756 4.43744L3.21105 4.43744L5.53136 2.11713L4.43756 1.02333L0.25 5.21088L4.43756 9.39844L5.53136 8.30463Z\"\n              fill=\"white\"\n            />\n          </svg>\n        </div>\n        <div class=\"transfer-ask-actions--down transfer--position-down left\">\n          <svg\n            width=\"22\"\n            height=\"8\"\n            viewBox=\"0 0 22 8\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M2.16158 7.58881C3.05751 7.59218 4.79459 7.16754 5.58346 6.90758C6.61036 6.56865 6.69467 6.54055 6.83265 5.60498C6.92455 4.9808 6.92483 4.50501 7.43323 4.17536C7.94162 3.84571 9.35607 3.43905 10.9481 3.43652C12.5402 3.43399 14.0103 3.83784 14.5176 4.1658C15.0248 4.49377 15.0184 4.97069 15.1136 5.59318C15.248 6.47057 15.3604 6.52678 16.3609 6.89212C17.1396 7.17568 18.8857 7.5711 19.781 7.56379C20.7408 7.55789 20.6565 7.47358 20.8383 7.0332C20.985 6.67336 21.0985 6.30084 21.1772 5.9203C21.3281 5.17191 21.3296 4.6742 21.1311 4.12674C20.9327 3.57928 20.1368 2.62658 17.5983 1.89055C15.0597 1.15452 13.5901 0.949641 10.9762 0.953295C8.36233 0.956948 6.6542 1.26159 4.35786 1.90769C1.51857 2.70836 1.01917 3.60514 0.819354 4.15344C0.619538 4.70174 0.617571 5.19833 0.767925 5.94728C0.845915 6.32782 0.958805 6.70036 1.10517 7.06018C1.28559 7.49972 1.20128 7.58403 2.16158 7.58881Z\"\n              fill=\"white\"\n            />\n          </svg>\n        </div>\n      </button>\n      <button\n        v-tippy=\"{}\"\n        class=\"transfer-merge-call bs-tooltip\"\n        :title=\"t('Merge Calls')\"\n        data-toggle=\"tooltip\"\n        data-placement=\"top\"\n      >\n        <svg\n          width=\"56\"\n          height=\"56\"\n          viewBox=\"0 0 56 56\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <rect width=\"56\" height=\"56\" rx=\"28\" fill=\"#17AD37\" />\n          <path\n            d=\"M28.4098 16.0348L28.375 16L20.9305 23.4445L22.875 25.3891L22.9098 25.3543L22.9445 25.3891L27 21.3336V31.4445C27 34.5511 24.4816 37.0695 21.375 37.0695H20V39.8195H21.375C24.3244 39.8195 26.9176 38.295 28.4098 35.9909C29.9019 38.295 32.4952 39.8195 35.4445 39.8195H36.8195V37.0695H35.4445C32.3379 37.0695 29.8195 34.5511 29.8195 31.4445V21.3336L33.875 25.3891L33.9098 25.3543L33.9445 25.3891L35.8891 23.4445L28.4445 16L28.4098 16.0348Z\"\n            fill=\"white\"\n          />\n        </svg>\n      </button>\n      <button\n        v-tippy=\"{}\"\n        class=\"transfer-actions-footer bs-tooltip\"\n        style=\"margin-left: 21px\"\n        :title=\"t('Hang Up Previous Call & Transfer')\"\n        data-toggle=\"tooltip\"\n        data-placement=\"top\"\n        @click=\"transferWithConfirmationAccepted\"\n      >\n        <div class=\"transfer-ask-actions--up transfer--position-up right\">\n          <svg\n            width=\"22\"\n            height=\"8\"\n            viewBox=\"0 0 22 8\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M2.16158 7.58881C3.05751 7.59218 4.79459 7.16754 5.58346 6.90758C6.61036 6.56865 6.69467 6.54055 6.83265 5.60498C6.92455 4.9808 6.92483 4.50501 7.43323 4.17536C7.94162 3.84571 9.35607 3.43905 10.9481 3.43652C12.5402 3.43399 14.0103 3.83784 14.5176 4.1658C15.0248 4.49377 15.0184 4.97069 15.1136 5.59318C15.248 6.47057 15.3604 6.52678 16.3609 6.89212C17.1396 7.17568 18.8857 7.5711 19.781 7.56379C20.7408 7.55789 20.6565 7.47358 20.8383 7.0332C20.985 6.67336 21.0985 6.30084 21.1772 5.9203C21.3281 5.17191 21.3296 4.6742 21.1311 4.12674C20.9327 3.57928 20.1368 2.62658 17.5983 1.89055C15.0597 1.15452 13.5901 0.949641 10.9762 0.953295C8.36233 0.956948 6.6542 1.26159 4.35786 1.90769C1.51857 2.70836 1.01917 3.60514 0.819354 4.15344C0.619538 4.70174 0.617571 5.19833 0.767925 5.94728C0.845915 6.32782 0.958805 6.70036 1.10517 7.06018C1.28559 7.49972 1.20128 7.58403 2.16158 7.58881Z\"\n              fill=\"white\"\n            />\n          </svg>\n        </div>\n        <div class=\"transfer-ask-actions--down transfer--position-down right\">\n          <svg\n            width=\"16\"\n            height=\"14\"\n            viewBox=\"0 0 16 14\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M9.2954 11.3638C9.20944 11.2035 8.88626 10.7108 8.23983 10.0005C7.58881 9.28414 7.09327 8.81349 6.94659 8.6954C6.93367 8.68497 6.91815 8.67825 6.9017 8.67598C6.88526 8.6737 6.8685 8.67595 6.85323 8.68249C6.52923 8.81968 5.97517 9.08269 5.94541 9.09695C5.7533 9.18897 5.7533 9.18897 5.63659 9.11299C5.43144 8.97899 4.83216 8.42077 4.38685 7.64745C3.94153 6.87412 3.74324 6.05362 3.7297 5.80919C3.72186 5.66977 3.72186 5.66977 3.89807 5.54953C3.92529 5.53089 4.43033 5.18263 4.71109 4.97086C4.72438 4.96091 4.7347 4.94752 4.74096 4.93214C4.74721 4.91676 4.74916 4.89996 4.74658 4.88356C4.71771 4.69725 4.55782 4.03301 4.26298 3.11106C3.97022 2.19609 3.70564 1.67001 3.60974 1.5154C3.60096 1.50115 3.58849 1.48954 3.57366 1.48178C3.55883 1.47403 3.54219 1.47042 3.52548 1.47133C3.03638 1.50523 2.55164 1.58583 2.07788 1.71201C1.61991 1.83619 1.17378 2.00054 0.74471 2.20317C0.729723 2.21028 0.716953 2.22133 0.70777 2.23514C0.698587 2.24895 0.693336 2.265 0.692582 2.28157C0.680604 2.51892 0.659755 3.51756 1.02636 5.00678C1.40033 6.52663 1.72361 7.34061 2.50817 8.69411C3.29274 10.0476 3.84931 10.7707 4.97995 11.8549C6.08636 12.917 6.96204 13.3986 7.17324 13.5063C7.18801 13.5139 7.20457 13.5174 7.22115 13.5164C7.23773 13.5153 7.25373 13.5098 7.26744 13.5004C7.6574 13.2302 8.02272 12.926 8.35915 12.5914C8.70527 12.2442 9.01744 11.8647 9.29138 11.4581C9.3004 11.4442 9.30552 11.4281 9.30623 11.4115C9.30693 11.3949 9.3032 11.3785 9.2954 11.3638Z\"\n              fill=\"white\"\n            />\n            <path\n              d=\"M11.2564 9.4562L10.2064 8.4062L12.7939 5.9687H6.55017V4.4687H12.7939L10.2064 1.8625L11.2564 0.8125L15.6439 5.2187L11.2564 9.4562Z\"\n              fill=\"white\"\n            />\n          </svg>\n        </div>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useKeypadStore, useWebrtcStore } from '@/stores';\nimport { useI18n } from 'vue-i18n';\nimport { toastSuccess } from '@/utils';\nimport type { RTCSession } from 'jssip/lib/RTCSession';\nimport { useCall } from '@/composables';\n\nconst webrtcStore = useWebrtcStore();\nconst keypadStore = useKeypadStore();\nconst { t } = useI18n();\n\nfunction endTransfer() {\n  const index = webrtcStore.findIndexSessionById(webrtcStore.sessionActive.id);\n  webrtcStore.sessionsArray[index].transfer = undefined;\n\n  keypadStore.setHasTransfer(false);\n}\n\nfunction transferWithConfirmationCanceled() {\n  const { sendDTMF } = useCall(webrtcStore.sessionActive as RTCSession);\n  sendDTMF('*1');\n  clearTransferState();\n  endTransfer();\n}\n\nfunction transferWithConfirmationAccepted() {\n  const { sendDTMF } = useCall(webrtcStore.sessionActive as RTCSession);\n  sendDTMF('*5');\n  webrtcStore.transfer.from?.terminate();\n  webrtcStore.setIsTransferring(false);\n  webrtcStore.setTransfer({});\n  toastSuccess(t('Call is being transferred'));\n}\n\nfunction clearTransferState() {\n  webrtcStore.setIsTransferring(false);\n  webrtcStore.setTransfer({});\n}\n</script>\n\n<style scoped>\n.transfer-ask-actions--content {\n  display: grid;\n  grid-template-columns: repeat(3, 75px);\n  grid-template-rows: minmax(56px, max-content);\n  width: 100%;\n}\n\n.transfer-actions-footer {\n  background-color: transparent;\n  border: none;\n  width: 56px;\n  height: 56px;\n  display: flex;\n  position: relative;\n  transition: 0.2s;\n}\n\n.transfer-ask-actions--up,\n.transfer-ask-actions--down {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.transfer--position-up {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.transfer--position-down {\n  position: absolute;\n  top: 20px;\n  left: 18px;\n}\n\n.transfer-ask-actions--up.transfer--position-up.left,\n.transfer-ask-actions--down.transfer--position-down.right {\n  background-color: var(--call-start);\n}\n\n.transfer-ask-actions--down.transfer--position-down.left,\n.transfer-ask-actions--up.transfer--position-up.right {\n  background-color: var(--call-end);\n}\n\n.transfer-merge-call {\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.transfer-merge-call:hover svg rect {\n  fill: var(--call-start-hover);\n}\n\n.transfer-actions-footer:hover\n  .transfer-ask-actions--up.transfer--position-up.left,\n.transfer-actions-footer:hover\n  .transfer-ask-actions--down.transfer--position-down.right {\n  background-color: var(--call-start-hover);\n}\n\n.transfer-actions-footer:hover\n  .transfer-ask-actions--down.transfer--position-down.left,\n.transfer-actions-footer:hover\n  .transfer-ask-actions--up.transfer--position-up.right {\n  background-color: var(--call-end)-hover;\n}\n</style>\n","<template>\n  <TransferCallHeader />\n  <div class=\"d-flex flex-column align-items-center\">\n    <DialPadAvatar\n      :user-id=\"user(to)?.userId\"\n      :name=\"user(to)?.userName || to\"\n    />\n    <DescriptionContact />\n    <div\n      v-if=\"startTime\"\n      class=\"d-flex justify-content-center\"\n      style=\"gap: 12px\"\n    >\n      <Timer v-if=\"startTime\" :init-start-date=\"startTime\" />\n      <span v-else class=\"font-work-sans font-size-15\"\n        >{{ t('Calling') }}...</span\n      >\n      <!--      <IsHold :session=\"session\" />-->\n    </div>\n    <CallingActions :has-footer=\"false\" />\n    <TransferAskFirstActions />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport Timer from '@/components/BaseTimer.vue';\nimport TransferAskFirstActions from '@/components/DialPad/Call/TransferAskFirstActions.vue';\nimport { computed } from 'vue';\nimport { useWebrtcStore } from '@/stores';\nimport type { Session } from '@/types';\nimport { useI18n } from 'vue-i18n';\nimport { Color } from '@/enums';\nimport { useUser } from '@/composables';\nimport DialPadAvatar from '@/components/DialPad/DialPadAvatar.vue';\nimport IsHold from '@/components/DialPad/IsHold.vue';\nimport DescriptionContact from '@/components/DialPad/DescriptionContact.vue';\nimport TransferCallHeader from '@/components/DialPad/Call/TransferCallHeader.vue';\nimport CallingActions from '@/components/DialPad/Call/CallingActions.vue';\n\nconst webrtcStore = useWebrtcStore();\nconst { user } = useUser();\nconst { t } = useI18n();\nconst startTime = new Date();\n\nconst from = computed(() => {\n  return (webrtcStore.transfer.from as Session).remote_identity.uri;\n});\n\nconst to = computed(() => {\n  return webrtcStore.transfer.to as string;\n});\n</script>\n"],"names":["webrtcStore","useWebrtcStore","keypadStore","useKeypadStore","t","useI18n","endTransfer","index","transferWithConfirmationCanceled","sendDTMF","useCall","clearTransferState","transferWithConfirmationAccepted","_a","toastSuccess","user","useUser","startTime","computed","to"],"mappings":"8/MAuHA,MAAMA,EAAcC,IACdC,EAAcC,IACd,CAAE,EAAAC,GAAMC,IAEd,SAASC,GAAc,CACrB,MAAMC,EAAQP,EAAY,qBAAqBA,EAAY,cAAc,EAAE,EAC/DA,EAAA,cAAcO,CAAK,EAAE,SAAW,OAE5CL,EAAY,eAAe,EAAK,CAClC,CAEA,SAASM,GAAmC,CAC1C,KAAM,CAAE,SAAAC,CAAa,EAAAC,EAAQV,EAAY,aAA2B,EACpES,EAAS,IAAI,EACME,IACPL,GACd,CAEA,SAASM,GAAmC,OAC1C,KAAM,CAAE,SAAAH,CAAa,EAAAC,EAAQV,EAAY,aAA2B,EACpES,EAAS,IAAI,GACDI,EAAAb,EAAA,SAAS,OAAT,MAAAa,EAAe,YAC3Bb,EAAY,kBAAkB,EAAK,EACvBA,EAAA,YAAY,CAAA,CAAE,EACbc,EAAAV,EAAE,2BAA2B,CAAC,CAC7C,CAEA,SAASO,GAAqB,CAC5BX,EAAY,kBAAkB,EAAK,EACvBA,EAAA,YAAY,CAAA,CAAE,CAC5B,w2BC9GA,MAAMA,EAAcC,IACd,CAAE,KAAAc,GAASC,IACX,CAAE,EAAAZ,GAAMC,IACRY,MAAgB,KAETC,EAAS,IACZlB,EAAY,SAAS,KAAiB,gBAAgB,GAC/D,EAEK,MAAAmB,EAAKD,EAAS,IACXlB,EAAY,SAAS,EAC7B"}