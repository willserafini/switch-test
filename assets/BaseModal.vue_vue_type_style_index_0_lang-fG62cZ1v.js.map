{"version":3,"file":"BaseModal.vue_vue_type_style_index_0_lang-fG62cZ1v.js","sources":["../../src/components/BaseModal.vue"],"sourcesContent":["<template>\n  <teleport to=\"body\">\n    <div\n      v-if=\"props.modelValue\"\n      :id=\"idModal\"\n      class=\"modal fade show d-block\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      :aria-hidden=\"false\"\n      data-bs-backdrop=\"static\"\n      data-bs-keyboard=\"false\"\n      :style=\"{ zIndex: props.zIndex }\"\n      v-bind=\"$attrs\"\n    >\n      <div\n        class=\"modal-dialog base-modal\"\n        :class=\"[modalSize, modalCenter, modalScrollable]\"\n        role=\"document\"\n        :style=\"{ maxWidth: maxWidth }\"\n      >\n        <div\n          ref=\"modalContentRef\"\n          class=\"modal-content\"\n          :style=\"{ minHeight: minHeight, maxHeight: maxHeight }\"\n        >\n          <div\n            v-if=\"slots.header || props.hasBtnClose\"\n            class=\"modal-header p-4\"\n          >\n            <slot name=\"header\" />\n            <button\n              type=\"button\"\n              data-dismiss=\"modal\"\n              data-bs-dismiss=\"modal\"\n              aria-label=\"Close\"\n              class=\"btn-close\"\n              :style=\"{ color: Color.TextSecondary }\"\n              @click=\"onClose\"\n            ></button>\n          </div>\n          <div v-if=\"slots.body\" class=\"modal-body p-0\">\n            <slot name=\"body\" />\n          </div>\n          <div v-if=\"slots.footer\" class=\"modal-footer p-4\">\n            <slot name=\"footer\"></slot>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-if=\"props.modelValue\"\n      class=\"modal-backdrop fade show\"\n      :style=\"{ zIndex: (props.zIndex as number) - 1 }\"\n    ></div>\n  </teleport>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  inheritAttrs: false,\n};\n</script>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, useSlots, watchEffect } from 'vue';\nimport { onClickOutside } from '@vueuse/core';\nimport { Color } from '@/enums';\n\ninterface Props {\n  modelValue: boolean;\n  size?: 'sm' | 'lg' | 'xl';\n  center?: boolean;\n  scrollable?: boolean;\n  persist?: boolean;\n  hasBtnClose?: boolean;\n  zIndex?: number;\n  minHeight?: string;\n  maxHeight?: string;\n  maxWidth?: string;\n}\n\nconst props = defineProps<Props>();\n\nconst modalContentRef = ref<HTMLDivElement>();\n\nconst emit = defineEmits<{\n  (e: 'close'): void;\n  (e: 'update:modelValue', value: boolean): void;\n}>();\n\nif (!props.persist) {\n  onClickOutside(modalContentRef, () => {\n    emit('update:modelValue', false);\n  });\n}\n\nconst modalSize = computed(() => {\n  if (props.size) {\n    return `modal-${props.size}`;\n  }\n\n  return '';\n});\n\nconst modalCenter = computed(() => {\n  if (props.center) {\n    return 'modal-dialog-centered';\n  }\n\n  return '';\n});\n\nconst modalScrollable = computed(() => {\n  if (props.scrollable) {\n    return 'modal-dialog-scrollable';\n  }\n\n  return '';\n});\n\nconst slots = useSlots();\n\nfunction openModal() {\n  document.body.style.setProperty('overflow', 'hidden');\n  document.body.style.setProperty('padding-right', '0px');\n\n  const modals = document.querySelectorAll('.modal.fade.show.d-block');\n  if (modals.length > 0) document.body.classList.add('modal-open');\n}\n\nfunction hideModal() {\n  emit('update:modelValue', false);\n  document.body.classList.remove('modal-open');\n  document.body.style.removeProperty('overflow');\n  document.body.style.removeProperty('padding-right');\n}\n\nfunction onClose() {\n  emit('close');\n  emit('update:modelValue', false);\n}\n\nwatchEffect(() => {\n  if (props.modelValue) {\n    openModal();\n  } else {\n    hideModal();\n  }\n});\n\nconst countModal = computed(() => {\n  const modals = document.querySelectorAll('.modal.fade.show.d-block');\n  return modals.length;\n});\n\nconst idModal = computed(() => {\n  return `my-modal${countModal.value}`;\n});\n</script>\n\n<style lang=\"scss\">\n.base-modal {\n  &.modal-sm {\n    max-width: 360px;\n  }\n}\n</style>\n"],"names":["__default__","props","__props","modalContentRef","ref","emit","__emit","onClickOutside","modalSize","computed","modalCenter","modalScrollable","slots","useSlots","openModal","hideModal","onClose","watchEffect","countModal","idModal"],"mappings":"oTA0DAA,EAAe,CACb,aAAc,EAChB,iRAqBA,MAAMC,EAAQC,EAERC,EAAkBC,IAElBC,EAAOC,EAKRL,EAAM,SACTM,EAAeJ,EAAiB,IAAM,CACpCE,EAAK,oBAAqB,EAAK,CAAA,CAChC,EAGG,MAAAG,EAAYC,EAAS,IACrBR,EAAM,KACD,SAASA,EAAM,IAAI,GAGrB,EACR,EAEKS,EAAcD,EAAS,IACvBR,EAAM,OACD,wBAGF,EACR,EAEKU,EAAkBF,EAAS,IAC3BR,EAAM,WACD,0BAGF,EACR,EAEKW,EAAQC,IAEd,SAASC,GAAY,CACnB,SAAS,KAAK,MAAM,YAAY,WAAY,QAAQ,EACpD,SAAS,KAAK,MAAM,YAAY,gBAAiB,KAAK,EAEvC,SAAS,iBAAiB,0BAA0B,EACxD,OAAS,GAAY,SAAA,KAAK,UAAU,IAAI,YAAY,CACjE,CAEA,SAASC,GAAY,CACnBV,EAAK,oBAAqB,EAAK,EACtB,SAAA,KAAK,UAAU,OAAO,YAAY,EAClC,SAAA,KAAK,MAAM,eAAe,UAAU,EACpC,SAAA,KAAK,MAAM,eAAe,eAAe,CACpD,CAEA,SAASW,GAAU,CACjBX,EAAK,OAAO,EACZA,EAAK,oBAAqB,EAAK,CACjC,CAEAY,EAAY,IAAM,CACZhB,EAAM,WACEa,IAEAC,GACZ,CACD,EAEK,MAAAG,EAAaT,EAAS,IACX,SAAS,iBAAiB,0BAA0B,EACrD,MACf,EAEKU,EAAUV,EAAS,IAChB,WAAWS,EAAW,KAAK,EACnC"}